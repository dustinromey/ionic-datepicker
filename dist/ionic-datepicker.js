"use strict";angular.module("ionic-datepicker",["ionic","ionic-datepicker.templates"]).directive("ionicDatepicker",["$ionicPopup",function(e){return{restrict:"AE",replace:!0,scope:{ipDate:"=idate",disablePreviousDates:"=disablepreviousdates"},link:function(t,a){function n(e){return e.getDay()<2||6===e.getDay()?(e.setDate(e.getDate()+1),void n(e)):e}var o=["January","February","March","April","May","June","July","August","September","October","November","December"];!t.ipDate;var r=new Date;r.setDate(r.getDate()+1),r.getHours()>11&&r.setDate(r.getDate()+1),n(r),t.previousDayEpoch=+r;var i=angular.copy(t.ipDate);t.weekNames=["D","L","M","Mi","J","V","S"],t.today={},t.today.dateObj=new Date,t.today.date=(new Date).getDate(),t.today.month=(new Date).getMonth(),t.today.year=(new Date).getFullYear();var l=function(e){t.selctedDateString=new Date(e).toString(),i=angular.copy(e);var a=new Date(e.getFullYear(),e.getMonth(),1).getDate(),n=new Date(e.getFullYear(),e.getMonth()+1,0).getDate();t.dayList=[];for(var r=a;n>=r;r++){var l=new Date(e.getFullYear(),e.getMonth(),r);t.dayList.push({date:l.getDate(),month:l.getMonth(),year:l.getFullYear(),day:l.getDay(),dateString:l.toString(),epochLocal:l.getTime(),epochUTC:l.getTime()+60*l.getTimezoneOffset()*1e3})}var a=t.dayList[0].day;t.currentMonthFirstDayEpoch=t.dayList[0].epochLocal;for(var c=0;a>c;c++)t.dayList.unshift({});t.rows=[],t.cols=[],t.currentMonth=o[e.getMonth()],t.currentYear=e.getFullYear(),t.numColumns=7,t.rows.length=6,t.cols.length=t.numColumns};t.prevMonth=function(){1===i.getMonth()&&i.setFullYear(i.getFullYear()),i.setMonth(i.getMonth()-1),t.currentMonth=o[i.getMonth()],t.currentYear=i.getFullYear(),l(i)},t.nextMonth=function(){11===i.getMonth()&&i.setFullYear(i.getFullYear()),i.setMonth(i.getMonth()+1),t.currentMonth=o[i.getMonth()],t.currentYear=i.getFullYear(),l(i)},t.date_selection={selected:!1,selectedDate:"",submitted:!1},t.dateSelected=function(e){t.selctedDateString=e.dateString,t.date_selection.selected=!0,t.date_selection.selectedDate=new Date(e.dateString)},a.on("click",function(){if(t.ipDate)l(angular.copy(t.ipDate));else{var a=new Date;l(a)}e.show({templateUrl:"date-picker-modal.html",title:"<strong>Select Date</strong>",subTitle:"",scope:t,buttons:[{text:"Close"},{text:"Set",type:"button-stable",onTap:function(e){t.date_selection.submitted=!0,t.date_selection.selected===!0?t.ipDate=angular.copy(t.date_selection.selectedDate):e.preventDefault()}}]})})}}}]);